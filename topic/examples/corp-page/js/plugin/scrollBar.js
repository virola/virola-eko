!function(t){var n=(window.scrollBar=function(t){return new n(t)},function(n){this.mod=t("#"+n.mod),this.con=t("#"+n.con),this.bar=t("#"+n.bar),this.btn=t("#"+n.btn),this.dis=n.direction,this.range=n.range||10,this.modH="y"==this.dis?this.mod.height():this.mod.width(),this.conH="y"==this.dis?this.con.height():this.con.width(),this.btnH=this.modH*this.modH/this.conH<20?20:this.modH*this.modH/this.conH,this.TxtScroll()});n.prototype={TxtScroll:function(){var t=this;t.conH-t.modH>0?(t.bar.css("x"==t.dis?{width:t.modH-100+"px",left:"50px"}:{height:t.modH+"px"}),t.bar.show(),t.startDrag(t.btn)):t.bar.hide(),t.btn.css("x"==t.dis?{width:t.btnH-100+"px"}:{height:t.btnH+"px"})},startDrag:function(n){var o,i=this,s=!1;n.click(function(){}).mousedown(function(t){return s=!0,o="x"==i.dis?t.pageX-parseInt(n.css("left")):t.pageY-parseInt(n.css("left")),n.fadeTo(20,.9),!1}),t("#mod_top_sc").mousemove(function(t){s&&i.drag("x"==i.dis?t.pageX-o:t.pageY-o)}).mouseup(function(){s=!1,n.fadeTo("fast",1)})},drag:function(t){var n=this;0>=t?t=0:t>=n.modH-n.btnH&&(t=n.modH-n.btnH);var o=(n.modH-n.conH)*t/(n.modH-n.btnH);return"x"==n.dis?(n.btn.css({left:t}),n.con.css({left:o})):(n.btn.css({top:t}),n.con.css({top:o})),this},scrollTo:function(t){var n=this,o=-(n.modH-n.btnH)*t/(n.modH-n.conH);0>=o?o=0:o>=n.modH-n.btnH&&(o=n.modH-n.btnH);var t=(n.modH-n.conH)*o/(n.modH-n.btnH);return"x"==n.dis?(n.btn.animate({left:o}),n.con.animate({left:t})):(n.btn.animate({top:o}),n.con.animate({top:t})),this}}}(jQuery);